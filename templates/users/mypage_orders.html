{% extends "users/mypage_base.html" %}
{% load static %}

{% block content %}
  <div id="filter">
      
  </div>
  <div id="products">
    {% for group in order_groups %}
        <div>{{group.order_at | date}} 주문</div>
        {% for detail in group.order_details.all %}
          <div id="product" class="flex flex-row">
              <div id="product_img" class="w-1/5">
                <img src = "{{detail.product.main_image.url}}">
              </div>
              <div class="w-2/5">
                <div id="product_order_at2">{{group.order_at | date}} 주문</div>
                <div class="flex flex-row">
                    <div id="product_farm_name">{{detail.product.farmer.farm_name}}</div>
                    <div id="slash">|</div>
                    <div id="product_title">{{detail.product.title}}</div>
                </div>
                <div class="flex flex-row">
                    <div id="product_price">{{detail.total_price}}원</div>
                    <div id="product_quantity">{{detail.quantity}}g</div>
                </div>
                <div class="flex flex-row">
                    
                    {% if detail.status == 'preparing' %}
                        <div></div>
                        <div>배송 준비 중</div>
                    {% elif detail.status == 'shipping' %}
                        <div></div>
                        <div>배송중</div>
                    {% elif detail.status == 'complete' %}
                        <div></div>
                        <div>배송 완료</div>
                    {% elif detail.status == 'cancel' %}
                        <div></div>
                        <div>주문 취소</div>
                    {% endif %}
                    
                </div>
                <div class="flex flex-row"></div>
              </div>
              <div id="cart-button-section" class="w-1/5">
                <a><div>장바구니 담기</div></a>
              </div>
              <div class="w-1/5">
                <a href="{% url 'products:product_detail' detail.product.pk %}"><div>무난이 보기</div></a>
                <a><div>리뷰 쓰기</div></a>
                <a><div>주문 취소</div></a>
              </div>
          </div>
        {% endfor %}
    {% endfor %}
  </div>
  <div id="paginator" class="flex flex-row">
      {% for page in total_pages %}
        <div id="page_btn" value="{{page}}">{{page}}</div>
      {% endfor %}
  </div>
{% endblock content %}